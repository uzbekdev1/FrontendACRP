<button mat-icon-button [matMenuTriggerFor]="messagesMenu" (click)="openMessagesMenu()">
    <mat-icon>notifications</mat-icon>
</button>
<mat-menu #messagesMenu="matMenu" [overlapTrigger]="false" class="toolbar-dropdown-menu messages">
    <!--<span (mouseleave)="onMouseLeave()">-->
        <mat-tab-group (click)="stopClickPropagate($event)" [selectedIndex]="selectedTab">
            <mat-tab>
                <ng-template mat-tab-label>
                    <mat-icon>message</mat-icon>
                </ng-template>
                <mat-card class="content" perfectScrollbar>
                  <div fxLayout="column" fxLayoutAlign="none">
                      <button mat-button *ngFor="let message of messages">
                          <div fxLayout="column" fxLayoutAlign="none" class="w-100">
                              <div fxLayout="row" fxLayoutAlign="space-between start">
                                  <span class="name">{{message.nombreRemitente}}</span>
                                  <span class="correo">{{message.correoRemitente}}</span>
                                  <span class="info"><mat-icon>access_time</mat-icon> {{message.fecha}}</span>
                              </div>
                              <span class="text secondary-text-color">{{message.mensaje}}</span>
                          </div>
                      </button>
                    </div>             
                </mat-card>
            </mat-tab>
            <mat-tab>
                <ng-template mat-tab-label>
                    <mat-icon>event</mat-icon>
                </ng-template>
                <mat-card *ngIf="eventos" class="content" perfectScrollbar>
                  <div fxLayout="column" fxLayoutAlign="none">
                      <button mat-button *ngFor="let evento of eventos, let i=index">
                          <div fxLayout="column" fxLayoutAlign="center center" class="row-1" [ngClass]="colors[i].value    ">
                              <span class="name">{{evento.fecha.getDate()}}</span>
                              <span class="name">{{(evento.fecha.getMonth()-1)}}</span>
                          </div>
                          <div fxLayout="column" fxLayoutAlign="none">
                              <span class="name">{{evento.nombre}}</span>
                              <span class="text secondary-text-color">{{evento.centro.nombre}}</span>
                          </div>
                      </button>
                    </div>             
                </mat-card>
            </mat-tab>
        </mat-tab-group>
    <!--</span>-->
</mat-menu>